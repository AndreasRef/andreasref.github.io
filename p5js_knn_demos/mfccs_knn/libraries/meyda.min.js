!function t(e,r,n){function o(a,u){if(!r[a]){if(!e[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var l=r[a]={exports:{}};e[a][0].call(l.exports,function(t){var r=e[a][1][t];return o(r?r:t)},l,l.exports,t,e,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,r){(function(r){"use strict";function n(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0}function o(t){return r.Buffer&&"function"==typeof r.Buffer.isBuffer?r.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}function i(t){return Object.prototype.toString.call(t)}function a(t){return!o(t)&&("function"==typeof r.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function u(t){if(v.isFunction(t)){if(_)return t.name;var e=t.toString(),r=e.match(E);return r&&r[1]}}function c(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function f(t){if(_||!v.isFunction(t))return v.inspect(t);var e=u(t);return"[Function"+(e?": "+e:"")+"]"}function l(t){return c(f(t.actual),128)+" "+t.operator+" "+c(f(t.expected),128)}function s(t,e,r,n,o){throw new M.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:o})}function p(t,e){t||s(t,!0,e,"==",M.ok)}function y(t,e,r,u){if(t===e)return!0;if(o(t)&&o(e))return 0===n(t,e);if(v.isDate(t)&&v.isDate(e))return t.getTime()===e.getTime();if(v.isRegExp(t)&&v.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(a(t)&&a(e)&&i(t)===i(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===n(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;u=u||{actual:[],expected:[]};var c=u.actual.indexOf(t);return c!==-1&&c===u.expected.indexOf(e)||(u.actual.push(t),u.expected.push(e),h(t,e,r,u))}return r?t===e:t==e}function m(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function h(t,e,r,n){if(null===t||void 0===t||null===e||void 0===e)return!1;if(v.isPrimitive(t)||v.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=m(t),i=m(e);if(o&&!i||!o&&i)return!1;if(o)return t=x.call(t),e=x.call(e),y(t,e,r);var a,u,c=T(t),f=T(e);if(c.length!==f.length)return!1;for(c.sort(),f.sort(),u=c.length-1;u>=0;u--)if(c[u]!==f[u])return!1;for(u=c.length-1;u>=0;u--)if(a=c[u],!y(t[a],e[a],r,n))return!1;return!0}function d(t,e,r){y(t,e,!0)&&s(t,e,r,"notDeepStrictEqual",d)}function b(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&e.call({},t)===!0}function g(t){var e;try{t()}catch(t){e=t}return e}function S(t,e,r,n){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),o=g(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&s(o,r,"Missing expected exception"+n);var i="string"==typeof n,a=!t&&v.isError(o),u=!t&&o&&!r;if((a&&i&&b(o,r)||u)&&s(o,r,"Got unwanted exception"+n),t&&o&&r&&!b(o,r)||!t&&o)throw o}var v=t("util/"),w=Object.prototype.hasOwnProperty,x=Array.prototype.slice,_=function(){return"foo"===function(){}.name}(),M=e.exports=p,E=/\s*function\s+([^\(\s]*)\s*/;M.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var e=t.stackStartFunction||s;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,o=u(e),i=n.indexOf("\n"+o);if(i>=0){var a=n.indexOf("\n",i+1);n=n.substring(a+1)}this.stack=n}}},v.inherits(M.AssertionError,Error),M.fail=s,M.ok=p,M.equal=function(t,e,r){t!=e&&s(t,e,r,"==",M.equal)},M.notEqual=function(t,e,r){t==e&&s(t,e,r,"!=",M.notEqual)},M.deepEqual=function(t,e,r){y(t,e,!1)||s(t,e,r,"deepEqual",M.deepEqual)},M.deepStrictEqual=function(t,e,r){y(t,e,!0)||s(t,e,r,"deepStrictEqual",M.deepStrictEqual)},M.notDeepEqual=function(t,e,r){y(t,e,!1)&&s(t,e,r,"notDeepEqual",M.notDeepEqual)},M.notDeepStrictEqual=d,M.strictEqual=function(t,e,r){t!==e&&s(t,e,r,"===",M.strictEqual)},M.notStrictEqual=function(t,e,r){t===e&&s(t,e,r,"!==",M.notStrictEqual)},M.throws=function(t,e,r){S(!0,t,e,r)},M.doesNotThrow=function(t,e,r){S(!1,t,e,r)},M.ifError=function(t){if(t)throw t};var T=Object.keys||function(t){var e=[];for(var r in t)w.call(t,r)&&e.push(r);return e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":5}],2:[function(t,e,r){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(s===setTimeout)return setTimeout(t,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}function a(t){if(p===clearTimeout)return clearTimeout(t);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function u(){d&&m&&(d=!1,m.length?h=m.concat(h):b=-1,h.length&&c())}function c(){if(!d){var t=i(u);d=!0;for(var e=h.length;e;){for(m=h,h=[];++b<e;)m&&m[b].run();b=-1,e=h.length}m=null,d=!1,a(t)}}function f(t,e){this.fun=t,this.array=e}function l(){}var s,p,y=e.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:n}catch(t){s=n}try{p="function"==typeof clearTimeout?clearTimeout:o}catch(t){p=o}}();var m,h=[],d=!1,b=-1;y.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new f(t,e)),1!==h.length||d||i(c)},f.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=l,y.addListener=l,y.once=l,y.off=l,y.removeListener=l,y.removeAllListeners=l,y.emit=l,y.binding=function(t){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(t){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}},{}],3:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],4:[function(t,e,r){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],5:[function(t,e,r){(function(e,n){function o(t,e){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(e)?n.showHidden=e:e&&r._extend(n,e),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),c(n,t,n.depth)}function i(t,e){var r=o.styles[e];return r?"["+o.colors[r][0]+"m"+t+"["+o.colors[r][1]+"m":t}function a(t,e){return t}function u(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}function c(t,e,n){if(t.customInspect&&e&&T(e.inspect)&&e.inspect!==r.inspect&&(!e.constructor||e.constructor.prototype!==e)){var o=e.inspect(n,t);return S(o)||(o=c(t,o,n)),o}var i=f(t,e);if(i)return i;var a=Object.keys(e),h=u(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),E(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(e);if(0===a.length){if(T(e)){var d=e.name?": "+e.name:"";return t.stylize("[Function"+d+"]","special")}if(x(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(M(e))return t.stylize(Date.prototype.toString.call(e),"date");if(E(e))return l(e)}var b="",g=!1,v=["{","}"];if(m(e)&&(g=!0,v=["[","]"]),T(e)){b=" [Function"+(e.name?": "+e.name:"")+"]"}if(x(e)&&(b=" "+RegExp.prototype.toString.call(e)),M(e)&&(b=" "+Date.prototype.toUTCString.call(e)),E(e)&&(b=" "+l(e)),0===a.length&&(!g||0==e.length))return v[0]+b+v[1];if(n<0)return x(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var w;return w=g?s(t,e,n,h,a):a.map(function(r){return p(t,e,n,h,r,g)}),t.seen.pop(),y(w,b,v)}function f(t,e){if(w(e))return t.stylize("undefined","undefined");if(S(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return g(e)?t.stylize(""+e,"number"):h(e)?t.stylize(""+e,"boolean"):d(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function s(t,e,r,n,o){for(var i=[],a=0,u=e.length;a<u;++a)k(e,String(a))?i.push(p(t,e,r,n,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(t,e,r,n,o,!0))}),i}function p(t,e,r,n,o,i){var a,u,f;if(f=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},f.get?u=f.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):f.set&&(u=t.stylize("[Setter]","special")),k(n,o)||(a="["+o+"]"),u||(t.seen.indexOf(f.value)<0?(u=d(r)?c(t,f.value,null):c(t,f.value,r-1),u.indexOf("\n")>-1&&(u=i?u.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n"))):u=t.stylize("[Circular]","special")),w(a)){if(i&&o.match(/^\d+$/))return u;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+u}function y(t,e,r){var n=0;return t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function m(t){return Array.isArray(t)}function h(t){return"boolean"==typeof t}function d(t){return null===t}function b(t){return null==t}function g(t){return"number"==typeof t}function S(t){return"string"==typeof t}function v(t){return"symbol"==typeof t}function w(t){return void 0===t}function x(t){return _(t)&&"[object RegExp]"===O(t)}function _(t){return"object"==typeof t&&null!==t}function M(t){return _(t)&&"[object Date]"===O(t)}function E(t){return _(t)&&("[object Error]"===O(t)||t instanceof Error)}function T(t){return"function"==typeof t}function j(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function O(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}function F(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":");return[t.getDate(),D[t.getMonth()],e].join(" ")}function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}r.format=function(t){if(!S(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(o(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,a=String(t).replace(/%[sdj%]/g,function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}),u=n[r];r<i;u=n[++r])a+=d(u)||!_(u)?" "+u:" "+o(u);return a},r.deprecate=function(t,o){function i(){if(!a){if(e.throwDeprecation)throw new Error(o);e.traceDeprecation?console.trace(o):console.error(o),a=!0}return t.apply(this,arguments)}if(w(n.process))return function(){return r.deprecate(t,o).apply(this,arguments)};if(e.noDeprecation===!0)return t;var a=!1;return i};var z,P={};r.debuglog=function(t){if(w(z)&&(z=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!P[t])if(new RegExp("\\b"+t+"\\b","i").test(z)){var n=e.pid;P[t]=function(){var e=r.format.apply(r,arguments);console.error("%s %d: %s",t,n,e)}}else P[t]=function(){};return P[t]},r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=m,r.isBoolean=h,r.isNull=d,r.isNullOrUndefined=b,r.isNumber=g,r.isString=S,r.isSymbol=v,r.isUndefined=w,r.isRegExp=x,r.isObject=_,r.isDate=M,r.isError=E,r.isFunction=T,r.isPrimitive=j,r.isBuffer=t("./support/isBuffer");var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",F(),r.format.apply(r,arguments))},r.inherits=t("inherits"),r._extend=function(t,e){if(!e||!_(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":4,_process:2,inherits:3}],6:[function(t,e,r){e.exports=t("./src/dct.js")},{"./src/dct.js":7}],7:[function(t,e,r){function n(t,e){var r=t.length;return e=e||2,cosMap&&cosMap[r]||o(r),t.map(function(){return 0}).map(function(n,o){return e*t.reduce(function(t,e,n,i){return t+e*cosMap[r][n+o*r]},0)})}cosMap=null;var o=function(t){cosMap=cosMap||{},cosMap[t]=new Array(t*t);for(var e=Math.PI/t,r=0;r<t;r++)for(var n=0;n<t;n++)cosMap[t][n+r*t]=Math.cos(e*(n+.5)*r)};e.exports=n},{}],8:[function(t,e,r){"use strict";!function(t,e){function r(t){return t.forEach||(t.forEach=function(t){var e,r=this.length;for(e=0;e<r;e++)t(this[e],e,r)}),t}var n,o,i=Float32Array,a=Math.sqrt,u=function(t){return Math.pow(t,2)};t.isComplexArray=n=function(t){return void 0!==t&&void 0!==t.hasOwnProperty&&t.hasOwnProperty("real")&&t.hasOwnProperty("imag")},t.ComplexArray=o=function(t,e){n(t)?(this.ArrayType=t.ArrayType,this.real=new this.ArrayType(t.real),this.imag=new this.ArrayType(t.imag)):(this.ArrayType=e||i,this.real=new this.ArrayType(t),this.imag=new this.ArrayType(this.real.length)),this.length=this.real.length},o.prototype.toString=function(){var t=[];return this.forEach(function(e,r){t.push("("+e.real.toFixed(2)+","+e.imag.toFixed(2)+")")}),"["+t.join(",")+"]"},o.prototype.map=function(t){var e,r=this.length,n={};for(e=0;e<r;e++)n.real=this.real[e],n.imag=this.imag[e],t(n,e,r),this.real[e]=n.real,this.imag[e]=n.imag;return this},o.prototype.forEach=function(t){var e,r=this.length,n={};for(e=0;e<r;e++)n.real=this.real[e],n.imag=this.imag[e],t(n,e,r)},o.prototype.conjugate=function(){return new o(this).map(function(t){t.imag*=-1})},o.prototype.magnitude=function(){var t=new this.ArrayType(this.length);return this.forEach(function(e,r){t[r]=a(u(e.real)+u(e.imag))}),r(t)}}(void 0===r&&(this.complex_array={})||r)},{}],9:[function(t,e,r){"use strict";!function(t,e){function r(t){return e.isComplexArray(t)&&t||new f(t)}function n(t,e){var r=t.length;return r&r-1?o(t,e):i(t,e)}function o(t,e){var r,o,i,a,u,s,h,d,b,g,S,v,w,x,_=t.length;if(1===_)return t;for(i=new f(_,t.ArrayType),d=c(_),b=_/d,g=1/p(d),S=new f(b,t.ArrayType),o=0;o<d;o++){for(r=0;r<b;r++)S.real[r]=t.real[r*d+o],S.imag[r]=t.imag[r*d+o];for(b>1&&(S=n(S,e)),s=y(2*l*o/_),h=(e?-1:1)*m(2*l*o/_),a=1,u=0,r=0;r<_;r++)w=S.real[r%b],x=S.imag[r%b],i.real[r]+=a*w-u*x,i.imag[r]+=a*x+u*w,v=a*s-u*h,u=a*h+u*s,a=v}for(r=0;r<_;r++)t.real[r]=g*i.real[r],t.imag[r]=g*i.imag[r];return t}function i(t,e){var r,n,o,i,a,c,f,p,h,d,b,g,S,v,w,x,_,M=t.length;for(o=u(t),i=o.real,a=o.imag,_=1;_<M;){for(p=y(l/_),h=(e?-1:1)*m(l/_),r=0;r<M/(2*_);r++)for(c=1,f=0,n=0;n<_;n++)b=2*r*_+n,g=b+_,S=i[b],v=a[b],w=c*i[g]-f*a[g],x=f*i[g]+c*a[g],i[b]=s*(S+w),a[b]=s*(v+x),i[g]=s*(S-w),a[g]=s*(v-x),d=c*p-f*h,f=c*h+f*p,c=d;_<<=1}return o}function a(t,e){for(var r=0;e>1;)r<<=1,r+=1&t,t>>=1,e>>=1;return r}function u(t){var e,r,n=t.length,o={};for(r=0;r<n;r++){var i=a(r,n);o.hasOwnProperty(r)||o.hasOwnProperty(i)||(e=t.real[i],t.real[i]=t.real[r],t.real[r]=e,e=t.imag[i],t.imag[i]=t.imag[r],t.imag[r]=e,o[r]=o[i]=!0)}return t}function c(t){for(var e=3,r=p(t);e<=r;){if(t%e==0)return e;e+=2}return t}var f=e.ComplexArray,l=Math.PI,s=Math.SQRT1_2,p=Math.sqrt,y=Math.cos,m=Math.sin;f.prototype.FFT=function(){return n(this,!1)},t.FFT=function(t){return r(t).FFT()},f.prototype.InvFFT=function(){return n(this,!0)},t.InvFFT=function(t){return r(t).InvFFT()},f.prototype.frequencyMap=function(t){return this.FFT().map(t).InvFFT()},t.frequencyMap=function(t,e){return r(t).frequencyMap(e)}}(void 0===r&&(this.fft={})||r,void 0===t&&this.complex_array||t("./complex_array"))},{"./complex_array":8}],10:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(){if("object"!==n(arguments[0].signal))throw new TypeError;for(var t=0,e=0;e<arguments[0].signal.length;e++)t+=Math.pow(Math.abs(arguments[0].signal[e]),2);return t};var o=t("assert");!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);e.default=t}(o);e.exports=r.default},{assert:1}],11:[function(t,e,r){"use strict";function n(t,e){for(var r=0,n=0,o=0;o<e.length;o++)r+=Math.pow(o,t)*Math.abs(e[o]),n+=e[o];return r/n}Object.defineProperty(r,"__esModule",{value:!0}),r.mu=n},{}],12:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(t){if("object"!==n(t.ampSpectrum)||"object"!==n(t.barkScale))throw new TypeError;var e=new Float32Array(24),r=0,o=t.ampSpectrum,i=new Int32Array(25);i[0]=0;for(var a=t.barkScale[o.length-1]/24,u=1,c=0;c<o.length;c++)for(;t.barkScale[c]>a;)i[u++]=c,a=u*t.barkScale[o.length-1]/24;i[24]=o.length-1;for(var f=0;f<24;f++){for(var l=0,s=i[f];s<i[f+1];s++)l+=o[s];e[f]=Math.pow(l,.23)}for(var p=0;p<e.length;p++)r+=e[p];return{specific:e,total:r}},e.exports=r.default},{}],13:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(t){if("object"!==o(t.ampSpectrum)||"object"!==o(t.melFilterBank))throw new TypeError;for(var e=(0,a.default)(t),r=t.melFilterBank.length,n=Array(r),i=new Float32Array(r),u=0;u<i.length;u++){n[u]=new Float32Array(t.bufferSize/2),i[u]=0;for(var f=0;f<t.bufferSize/2;f++)n[u][f]=t.melFilterBank[u][f]*e[f],i[u]+=n[u][f];i[u]=Math.log(i[u]+1)}return c(Array.prototype.slice.call(i)).slice(0,13)};var i=t("./powerSpectrum"),a=n(i),u=t("./../utilities"),c=(n(u),t("dct"));e.exports=r.default},{"./../utilities":30,"./powerSpectrum":16,dct:6}],14:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(){if("object"!==n(arguments[0].signal))throw new TypeError;for(var t=(0,i.default)(arguments[0]),e=t.specific,r=0,o=0;o<e.length;o++)r+=o<15?(o+1)*e[o+1]:.066*Math.exp(.171*(o+1));return r*=.11/t.total};var o=t("./loudness"),i=function(t){return t&&t.__esModule?t:{default:t}}(o);e.exports=r.default},{"./loudness":12}],15:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(){if("object"!==n(arguments[0].signal))throw new TypeError;for(var t=(0,i.default)(arguments[0]),e=0,r=0;r<t.specific.length;r++)t.specific[r]>e&&(e=t.specific[r]);return Math.pow((t.total-e)/t.total,2)};var o=t("./loudness"),i=function(t){return t&&t.__esModule?t:{default:t}}(o);e.exports=r.default},{"./loudness":12}],16:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(){if("object"!==n(arguments[0].ampSpectrum))throw new TypeError;for(var t=new Float32Array(arguments[0].ampSpectrum.length),e=0;e<t.length;e++)t[e]=Math.pow(arguments[0].ampSpectrum[e],2);return t},e.exports=r.default},{}],17:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(t){if("object"!==n(t.signal))throw new TypeError;for(var e=0,r=0;r<t.signal.length;r++)e+=Math.pow(t.signal[r],2);return e/=t.signal.length,e=Math.sqrt(e)},e.exports=r.default},{}],18:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(){if("object"!==n(arguments[0].ampSpectrum))throw new TypeError;return(0,o.mu)(1,arguments[0].ampSpectrum)};var o=t("./extractorUtilities");e.exports=r.default},{"./extractorUtilities":11}],19:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(){if("object"!==n(arguments[0].ampSpectrum))throw new TypeError;for(var t=0,e=0,r=0;r<arguments[0].ampSpectrum.length;r++)t+=Math.log(arguments[0].ampSpectrum[r]),e+=arguments[0].ampSpectrum[r];return Math.exp(t/arguments[0].ampSpectrum.length)*arguments[0].ampSpectrum.length/e},e.exports=r.default},{}],20:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(t){if("object"!==n(t.signal)||"object"!=n(t.previousSignal))throw new TypeError;for(var e=0,r=-(t.bufferSize/2);r<signal.length/2-1;r++)x=Math.abs(t.signal[r])-Math.abs(t.previousSignal[r]),e+=(x+Math.abs(x))/2;return e},e.exports=r.default},{}],21:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(){if("object"!==n(arguments[0].ampSpectrum))throw new TypeError;var t=arguments[0].ampSpectrum,e=(0,o.mu)(1,t),r=(0,o.mu)(2,t),i=(0,o.mu)(3,t),a=(0,o.mu)(4,t);return(-3*Math.pow(e,4)+6*e*r-4*e*i+a)/Math.pow(Math.sqrt(r-Math.pow(e,2)),4)};var o=t("./extractorUtilities");e.exports=r.default},{"./extractorUtilities":11}],22:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(){if("object"!==n(arguments[0].ampSpectrum))throw new TypeError;for(var t=arguments[0].ampSpectrum,e=arguments[0].sampleRate/(2*(t.length-1)),r=0,o=0;o<t.length;o++)r+=t[o];for(var i=.99*r,a=t.length-1;r>i&&a>=0;)r-=t[a],--a;return(a+1)*e},e.exports=r.default},{}],23:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(t){if("object"!==n(t.ampSpectrum))throw new TypeError;var e=(0,o.mu)(1,t.ampSpectrum),r=(0,o.mu)(2,t.ampSpectrum),i=(0,o.mu)(3,t.ampSpectrum);return(2*Math.pow(e,3)-3*e*r+i)/Math.pow(Math.sqrt(r-Math.pow(e,2)),3)};var o=t("./extractorUtilities");e.exports=r.default},{"./extractorUtilities":11}],24:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(t){if("object"!==n(t.ampSpectrum))throw new TypeError;for(var e=0,r=0,o=new Float32Array(t.ampSpectrum.length),i=0,a=0,u=0;u<t.ampSpectrum.length;u++){e+=t.ampSpectrum[u];var c=u*t.sampleRate/t.bufferSize;o[u]=c,i+=c*c,r+=c,a+=c*t.ampSpectrum[u]}return(t.ampSpectrum.length*a-r*e)/(e*(i-Math.pow(r,2)))},e.exports=r.default},{}],25:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(t){if("object"!==n(t.ampSpectrum))throw new TypeError;return Math.sqrt((0,o.mu)(2,t.ampSpectrum)-Math.pow((0,o.mu)(1,t.ampSpectrum),2))};var o=t("./extractorUtilities");e.exports=r.default},{"./extractorUtilities":11}],26:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.default=function(){if("object"!==n(arguments[0].signal))throw new TypeError;for(var t=0,e=0;e<arguments[0].signal.length;e++)(arguments[0].signal[e]>=0&&arguments[0].signal[e+1]<0||arguments[0].signal[e]<0&&arguments[0].signal[e+1]>=0)&&t++;return t},e.exports=r.default},{}],27:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0});var o=t("./extractors/rms"),i=n(o),a=t("./extractors/energy"),u=n(a),c=t("./extractors/spectralSlope"),f=n(c),l=t("./extractors/spectralCentroid"),s=n(l),p=t("./extractors/spectralRolloff"),y=n(p),m=t("./extractors/spectralFlatness"),h=n(m),d=t("./extractors/spectralSpread"),b=n(d),g=t("./extractors/spectralSkewness"),S=n(g),v=t("./extractors/spectralKurtosis"),w=n(v),x=t("./extractors/zcr"),_=n(x),M=t("./extractors/loudness"),E=n(M),T=t("./extractors/perceptualSpread"),j=n(T),O=t("./extractors/perceptualSharpness"),A=n(O),F=t("./extractors/mfcc"),k=n(F),z=t("./extractors/powerSpectrum"),P=n(z),D=t("./extractors/spectralFlux"),B=n(D);r.default={buffer:function(t){return t.signal},rms:i.default,energy:u.default,complexSpectrum:function(t){return t.complexSpectrum},spectralSlope:f.default,spectralCentroid:s.default,spectralRolloff:y.default,spectralFlatness:h.default,spectralSpread:b.default,spectralSkewness:S.default,spectralKurtosis:w.default,amplitudeSpectrum:function(t){return t.ampSpectrum},zcr:_.default,loudness:E.default,perceptualSpread:j.default,perceptualSharpness:A.default,powerSpectrum:P.default,mfcc:k.default,spectralFlux:B.default},e.exports=r.default},{"./extractors/energy":10,"./extractors/loudness":12,"./extractors/mfcc":13,"./extractors/perceptualSharpness":14,"./extractors/perceptualSpread":15,"./extractors/powerSpectrum":16,"./extractors/rms":17,"./extractors/spectralCentroid":18,"./extractors/spectralFlatness":19,"./extractors/spectralFlux":20,"./extractors/spectralKurtosis":21,"./extractors/spectralRolloff":22,"./extractors/spectralSkewness":23,"./extractors/spectralSlope":24,"./extractors/spectralSpread":25,"./extractors/zcr":26}],28:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=t("./utilities"),a=n(i),u=t("./featureExtractors"),c=n(u),f=t("jsfft"),l=(n(f),t("jsfft/lib/complex_array")),s=n(l),p=t("./meyda-wa"),y={audioContext:null,spn:null,bufferSize:512,sampleRate:44100,melBands:26,callback:null,windowingFunction:"hanning",featureExtractors:c,EXTRACTION_STARTED:!1,_featuresToExtract:[],windowing:a.applyWindow,_errors:{notPow2:new Error("Meyda: Buffer size must be a power of 2, e.g. 64 or 512"),featureUndef:new Error("Meyda: No features defined."),invalidFeatureFmt:new Error("Meyda: Invalid feature format"),invalidInput:new Error("Meyda: Invalid input."),noAC:new Error("Meyda: No AudioContext specified."),noSource:new Error("Meyda: No source node specified.")},createMeydaAnalyzer:function(t){return new p.MeydaAnalyzer(t,y)},extract:function(t,e,r){if(!e)throw this._errors.invalidInput;if("object"!=(void 0===e?"undefined":o(e)))throw this._errors.invalidInput;if(!t)throw this._errors.featureUndef;if(!a.isPowerOfTwo(e.length))throw this._errors.notPow2;void 0!==this.barkScale&&this.barkScale.length==this.bufferSize||(this.barkScale=a.createBarkScale(this.bufferSize,this.sampleRate,this.bufferSize)),void 0!==this.melFilterBank&&this.barkScale.length==this.bufferSize&&this.melFilterBank.length==this.melBands||(this.melFilterBank=a.createMelFilterBank(this.melBands,this.sampleRate,this.bufferSize)),void 0===e.buffer?this.signal=a.arrayToTyped(e):this.signal=e;var n=m(e,this.windowingFunction,this.bufferSize);if(this.signal=n.windowedSignal,this.complexSpectrum=n.complexSpectrum,this.ampSpectrum=n.ampSpectrum,r){var i=m(r,this.windowingFunction,this.bufferSize);this.previousSignal=i.windowedSignal,this.previousComplexSpectrum=i.complexSpectrum,this.previousAmpSpectrum=i.ampSpectrum}if("object"===(void 0===t?"undefined":o(t))){for(var u={},c=0;c<t.length;c++)u[t[c]]=this.featureExtractors[t[c]]({ampSpectrum:this.ampSpectrum,complexSpectrum:this.complexSpectrum,signal:this.signal,bufferSize:this.bufferSize,sampleRate:this.sampleRate,barkScale:this.barkScale,melFilterBank:this.melFilterBank,previousSignal:this.previousSignal,previousAmpSpectrum:this.previousAmpSpectrum,previousComplexSpectrum:this.previousComplexSpectrum});return u}if("string"==typeof t)return this.featureExtractors[t]({ampSpectrum:this.ampSpectrum,complexSpectrum:this.complexSpectrum,signal:this.signal,bufferSize:this.bufferSize,sampleRate:this.sampleRate,barkScale:this.barkScale,melFilterBank:this.melFilterBank,previousSignal:this.previousSignal,previousAmpSpectrum:this.previousAmpSpectrum,previousComplexSpectrum:this.previousComplexSpectrum});throw this._errors.invalidFeatureFmt}},m=function(t,e,r){var n={};void 0===t.buffer?n.signal=a.arrayToTyped(t):n.signal=t,n.windowedSignal=a.applyWindow(n.signal,e)
;var o=new s.ComplexArray(r);o.map(function(t,e,r){t.real=n.windowedSignal[e]}),n.complexSpectrum=o.FFT(),n.ampSpectrum=new Float32Array(r/2);for(var i=0;i<r/2;i++)n.ampSpectrum[i]=Math.sqrt(Math.pow(n.complexSpectrum.real[i],2)+Math.pow(n.complexSpectrum.imag[i],2));return n};r.default=y,"undefined"!=typeof window&&(window.Meyda=y),e.exports=r.default},{"./featureExtractors":27,"./meyda-wa":29,"./utilities":30,jsfft:9,"jsfft/lib/complex_array":8}],29:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0}),r.MeydaAnalyzer=void 0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("./utilities"),u=n(a),c=t("./featureExtractors"),f=n(c);r.MeydaAnalyzer=function(){function t(e,r){var n=this;if(o(this,t),this._m=r,!e.audioContext)throw this._m.errors.noAC;if(e.bufferSize&&!u.isPowerOfTwo(e.bufferSize))throw this._m._errors.notPow2;if(!e.source)throw this._m._errors.noSource;this._m.audioContext=e.audioContext,this._m.bufferSize=e.bufferSize||this._m.bufferSize||256,this._m.sampleRate=e.sampleRate||this._m.audioContext.sampleRate||44100,this._m.callback=e.callback,this._m.windowingFunction=e.windowingFunction||"hanning",this._m.featureExtractors=f,this._m.EXTRACTION_STARTED=e.startImmediately||!1,this._m.spn=this._m.audioContext.createScriptProcessor(this._m.bufferSize,1,1),this._m.spn.connect(this._m.audioContext.destination),this._m._featuresToExtract=e.featureExtractors||[],this._m.barkScale=u.createBarkScale(this._m.bufferSize,this._m.sampleRate,this._m.bufferSize),this._m.melFilterBank=u.createMelFilterBank(this._m.melBands,this._m.sampleRate,this._m.bufferSize),this._m.inputData=null,this._m.previousInputData=null,this.setSource(e.source),this._m.spn.onaudioprocess=function(t){null!==n._m.inputData&&(n._m.previousInputData=n._m.inputData),n._m.inputData=t.inputBuffer.getChannelData(0);var e=n._m.extract(n._m._featuresToExtract,n._m.inputData,n._m.previousInputData);"function"==typeof n._m.callback&&n._m.EXTRACTION_STARTED&&n._m.callback(e)}}return i(t,[{key:"start",value:function(t){this._m._featuresToExtract=t||this._m._featuresToExtract,this._m.EXTRACTION_STARTED=!0}},{key:"stop",value:function(){this._m.EXTRACTION_STARTED=!1}},{key:"setSource",value:function(t){t.connect(this._m.spn)}},{key:"get",value:function(t){return this._m.inputData?this._m.extract(t||this._m._featuresToExtract,this._m.inputData,this._m.previousInputData):null}}]),t}()},{"./featureExtractors":27,"./utilities":30}],30:[function(t,e,r){"use strict";function n(t){for(;t%2==0&&t>1;)t/=2;return 1===t}function o(t){throw new Error("Meyda: "+t)}function i(t,e){for(var r=[],n=0;n<Math.min(t.length,e.length);n++)r[n]=t[n]*e[n];return r}function a(t,e){if("rect"!==e){if(""!==e&&e||(e="hanning"),w[e]||(w[e]={}),!w[e][t.length])try{w[e][t.length]=v[e](t.length)}catch(t){throw new Error("Invalid windowing function")}t=i(t,w[e][t.length])}return t}function u(t,e,r){for(var n=new Float32Array(t),o=0;o<n.length;o++)n[o]=o*e/r,n[o]=13*Math.atan(n[o]/1315.8)+3.5*Math.atan(Math.pow(n[o]/7518,2));return n}function c(t){return Array.prototype.slice.call(t)}function f(t){return Float32Array.from(t)}function l(t,e){return t/e}function s(t,e){return t.map(function(t){return l(t,e)})}function p(t){var e=Math.max.apply(null,t);return t.map(function(t){return t/e})}function y(t){return t.reduce(function(t,e){return t+e})/t.length}function m(t){return 700*(Math.exp(t/1125)-1)}function h(t){return 1125*Math.log(1+t/700)}function d(t){return m(t)}function b(t){return h(t)}function g(t,e,r){for(var n=new Float32Array(t+2),o=new Float32Array(t+2),i=e/2,a=h(0),u=h(i),c=u-a,f=c/(t+1),l=Array(t+2),s=0;s<n.length;s++)n[s]=s*f,o[s]=m(n[s]),l[s]=Math.floor((r+1)*o[s]/e);for(var p=Array(t),y=0;y<p.length;y++){p[y]=Array.apply(null,new Array(r/2+1)).map(Number.prototype.valueOf,0);for(var d=l[y];d<l[y+1];d++)p[y][d]=(d-l[y])/(l[y+1]-l[y]);for(var b=l[y+1];b<l[y+2];b++)p[y][b]=(l[y+2]-b)/(l[y+2]-l[y+1])}return p}Object.defineProperty(r,"__esModule",{value:!0}),r.isPowerOfTwo=n,r.error=o,r.pointwiseBufferMult=i,r.applyWindow=a,r.createBarkScale=u,r.typedToArray=c,r.arrayToTyped=f,r._normalize=l,r.normalize=s,r.normalizeToOne=p,r.mean=y,r.melToFreq=d,r.freqToMel=b,r.createMelFilterBank=g;var S=t("./windowing"),v=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(S),w={}},{"./windowing":31}],31:[function(t,e,r){"use strict";function n(t){for(var e=new Float32Array(t),r=2*Math.PI/(t-1),n=2*r,o=0;o<t/2;o++)e[o]=.42-.5*Math.cos(o*r)+.08*Math.cos(o*n);for(var i=t/2;i>0;i--)e[t-i]=e[i-1];return e}function o(t){for(var e=Math.PI/(t-1),r=new Float32Array(t),n=0;n<t;n++)r[n]=Math.sin(e*n);return r}function i(t){for(var e=new Float32Array(t),r=0;r<t;r++)e[r]=.5-.5*Math.cos(2*Math.PI*r/(t-1));return e}function a(t){for(var e=new Float32Array(t),r=0;r<t;r++)e[r]=.54-.46*Math.cos(2*Math.PI*(r/t-1));return e}Object.defineProperty(r,"__esModule",{value:!0}),r.blackman=n,r.sine=o,r.hanning=i,r.hamming=a},{}]},{},[28]);
//# sourceMappingURL=meyda.min.js.map
